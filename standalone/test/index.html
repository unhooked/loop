<!DOCTYPE html>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/.  -->
<html>
<head>
  <meta charset="utf-8">
  <title>Loop mocha tests</title>
  <link rel="stylesheet" media="all" href="/test/vendor/mocha.css">
</head>
<body>
  <div id="mocha">
    <!-- YYY fixup these links in all files -->
    <p><a href="../">Index</a></p>
 </div>
  <div id="messages"></div>
  <div id="fixtures"></div>
  <script src="/shared/vendor/lodash.js"></script>
  <script src="/shared/test/loop_mocha_utils.js"></script>
  <script>
    LoopMochaUtils.trapErrors();
  </script>

  <!-- libs -->
  <script src="/shared/vendor/react.js"></script>
  <script src="/shared/vendor/react-dom.js"></script>
  <script src="/shared/vendor/classnames.js"></script>
  <script src="/shared/vendor/backbone.js"></script>
  <script src="/vendor/l10n-gaia-02ca67948fe8.js"></script>

  <!-- test dependencies -->
  <script src="/test/vendor/mocha.js"></script>
  <script src="/test/vendor/chai.js"></script>
  <script src="/test/vendor/chai-as-promised.js"></script>
  <script src="/test/vendor/sinon.js"></script>
  <script src="/shared/test/sdk_mock.js"></script>
  <script>
    chai.config.includeStack = true;
    mocha.setup({ui: 'bdd', timeout: 10000});
  </script>
  <!-- App scripts -->
  <script src="/shared/js/loopapi-client.js"></script>
  <script src="/shared/js/utils.js"></script>
  <script src="/shared/js/mixins.js"></script>
  <script src="/shared/js/actions.js"></script>
  <script src="/shared/js/validate.js"></script>
  <script src="/shared/js/dispatcher.js"></script>
  <script src="/shared/js/otSdkDriver.js"></script>


  <!-- Stores need to be loaded before the views that uses them -->
  <script src="/shared/js/store.js"></script>
  <script src="/shared/js/activeRoomStore.js"></script>
  <script src="/shared/js/textChatStore.js"></script>
  <script src="/shared/js/remoteCursorStore.js"></script>
  <script src="/js/standaloneAppStore.js"></script>
  <script src="/js/standaloneMetricsStore.js"></script>

  <!-- Views -->
  <script src="/shared/js/views.js"></script>
  <script src="/shared/js/textChatView.js"></script>
  <script src="/js/standaloneMozLoop.js"></script>
  <script src="/js/standaloneRoomViews.js"></script>
  <script src="/js/webapp.js"></script>

  <!-- Test scripts -->
  <script src="standaloneAppStore_test.js"></script>
  <script src="standaloneMetricsStore_test.js"></script>
  <script src="standaloneMozLoop_test.js"></script>
  <script src="standaloneRoomViews_test.js"></script>
  <script src="webapp_test.js"></script>
  <script>
    LoopMochaUtils.addErrorCheckingTests();
    LoopMochaUtils.runTests();
  </script>
</body>
</html>
